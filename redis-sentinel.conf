
bind 0.0.0.0

port 26379
# port：指定端口号为26379
# sentinel monitor |master-name| |ip| |redis-port| |quorum|：指定Sentinel需要监控的主服务器
# master-name：主服务器名名称，
# ip：主服务器IP
# redis-port：主服务器端口
# quorum：将这个主服务器判断为失效至少需要 1个 Sentinel 同意 （只要同意 Sentinel 的数量不达标，自动故障迁移就不会执行，因这里只配置了一个Sentinel,所以设置为1）
# sentinel down-after-milliseconds |master-name| |milliseconds|：指定Sentinel 认为主服务器已经断线所需的毫秒数。如果服务器在给定的毫秒数之内， 没有返回 Sentinel 发送的 PING 命令的回复， 或者返回一个错误， 那么 Sentinel 将这个服务器标记为主观下线（subjectively down，简称 SDOWN ）。不过只有一个 Sentinel 将服务器标记为主观下线并不一定会引起服务器的自动故障迁移： 只有在足够数量的 Sentinel 都将一个服务器标记为主观下线之后， 服务器才会被标记为客观下线（objectively down， 简称 ODOWN ）， 这时自动故障迁移才会执行
# sentinel failover-timeout |master-name| |milliseconds|：当出现failover时下一个sentinel与上一个sentinel对同一个master监测的时间间隔(最后设置为客观下线)
# sentinel parallel-syncs |master-name| |numslaves|：指定在执行故障转移时，最多可以有多少个从服务器同时对新的主服务器进行同步， 这个数字越小，完成故障转移所需的时间就越长
# Generated by CONFIG REWRITE
dir "/data"
sentinel monitor local-master 172.27.0.2 6379 1
# 连接主节点的密码
# 格式：sentinel auth-pass <master-name> <password>

sentinel down-after-milliseconds local-master 5000

sentinel failover-timeout local-master 5000
sentinel auth-pass local-master redis
